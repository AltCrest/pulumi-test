# dev.yaml (Corrected for local use and version control)
values:
    aws:
        login:
            fn::open::aws-login:
                oidc:
                    roleArn: "arn:aws:iam::380270640472:role/PulumiESC-OIDC-Role"
                    sessionName: "github-actions"
                    duration: 1h

    pulumiConfig:
        aws:region: us-west-1

    environmentVariables:
        AWS_ACCESS_KEY_ID: ${aws.login.accessKeyId}
        AWS_SECRET_ACCESS_KEY: ${aws.login.secretAccessKey}
        AWS_SESSION_TOKEN: ${aws.login.sessionToken}